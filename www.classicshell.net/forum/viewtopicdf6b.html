<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">

<!-- Mirrored from www.classicshell.net/forum/viewtopic.php?f=19&t=4776&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 08 Jun 2018 04:52:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<meta name="robots" content="noindex" />
<title>Classic Shell :: View topic - Switch user problem</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">Classic Shell</span><br /><span class="gensmall"><a href="index.html">http://www.classicshell.net/forum/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Switch user problem</span><br /><span class="gensmall"><a href="viewtopice24d.html?f=19&amp;t=4776">http://www.classicshell.net/forum/viewtopic.php?f=19&amp;t=4776</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>steve17</b> [ Thu Jul 09, 2015 1:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I'm using 4.2.2 on Windows 10162.  It looks good except for one thing.<br /><br />When I'm logged on to my non-admin account, &quot;Switch user&quot; doesn't work.  The screen clears and then goes back to my non-admin account.  To get to my admin account, I need to log off.<br /><br />The &quot;Switch user&quot; works right when I'm logged on to my admin account.  It gets me back to the logon screen.<br /><br />Steve<br /><br />EDIT:  In case it matters, my admin account has a password.  My non-admin account does not.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Jcee</b> [ Thu Jul 09, 2015 1:19 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />This isnt something that classic shell touches, but it may be resolved by the time windows 10 is finalized

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gaurav</b> [ Thu Jul 09, 2015 2:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Yeah Classic Shell does not affect user switching or account functionality in any way. Why do you think it should? It's just a Start Menu and Explorer addons.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>steve17</b> [ Thu Jul 09, 2015 2:57 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />But user switching works okay when I'm using Microsoft's shell.  It only fails when using ClassicShell.<br /><br />Note that Microsoft's shell doesn't have a &quot;switch user&quot; per se.  Instead you click on the account you want to switch to.<br /><br />In case it matters, my non-admin account doesn't have a password.  My admin account does.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>steve17</b> [ Thu Jul 09, 2015 3:11 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />When switching users with Microsoft's shell, it gives me the logon screen with the account pre-selected that I clicked on to initiate the switch.<br /><br />When using ClassicShell and I'm logged on to my password protected admin account, &quot;Switch users&quot; gives me the initial screen showing the date and time.  I need to click that to get the logon screen.  When I do click it, I get the logon screen with the admin account pre-selected.<br /><br />They do work differently.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gaurav</b> [ Thu Jul 09, 2015 4:53 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Classic Shell's Start Menu calls the Windows operating system's &quot;Switch user&quot; function. It does not do the switching itself.<br /><br />To understand this, temporarily exit Classic Shell's Start Menu by right clicking the button and choosing Exit. Now click once on the Desktop (or any icon on the Desktop) and press Alt+F4. In the &quot;Shut Down Windows&quot; dialog that you will get, select Switch User and click OK. The behavior should be the same as what clicking &quot;Switch user&quot; from Classic Start Menu does. However, this is the &quot;legacy&quot; switch user function (and the only one that can be called programmatically).<br /><br />In Windows 8, Microsoft implemented a direct way of switching user accounts (which incidentally was due to the feedback I sent them <img src="images/smilies/icon_e_wink.gif" alt=";)" title="Wink" />) from the Start screen by clicking the other account name itself while you are logged in to one user account. However they don't seem to have provided any programmatic way to do this for third party developers. This feature is continued to the Windows 10 Start Menu.<br /><br />So yes the behavior is different when you use the former Switch User function vs when you directly click a user account to switch to from the Start Menu or Start screen. What you need to understand is the actual switching in both cases even though it is different is all done by the Windows OS itself and if one of the methods isn't behaving as expected, that's a bug in Windows 10. Classic Shell only does the job of calling the function when you click &quot;Switch user&quot; from its Start Menu.<br /><br />Also, there is a new annoying (and in my opinion) incorrect behavior introduced with Windows 8. The OS automatically logs in to any user account which does not have a password set. So what may be happening is that when you use the &quot;Switch user&quot; function, it logs you into your non-admin account again. This is another bug/undesired behavior which was introduced for accounts which don't have a password set in Windows 8 (but I don't know if this bug is carried over to Windows 10).

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>steve17</b> [ Thu Jul 09, 2015 6:48 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">GauravK wrote:</div><div class="quotecontent">Classic Shell's Start Menu calls the Windows operating system's &quot;Switch user&quot; function. It does not do the switching itself.<br /><br />To understand this, temporarily exit Classic Shell's Start Menu by right clicking the button and choosing Exit. Now click once on the Desktop (or any icon on the Desktop) and press Alt+F4. In the &quot;Shut Down Windows&quot; dialog that you will get, select Switch User and click OK. The behavior should be the same as what clicking &quot;Switch user&quot; from Classic Start Menu does. </div>You are correct.  Doing the Alt+F4 thing does fail just like the ClassicShell &quot;Switch user&quot;.  When done from my non-password account, it accomplished nothing.  When done from a password account, it works by going to the initial date and time screen.<br /><br />By the way, no need to exit ClassicShell to do the Alt F4 thing.<br /><br />I wonder if Microsoft is interested in fixing this.  Maybe they will consider it deprecated.  I could try posting on the insider forum.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>steve17</b> [ Thu Jul 09, 2015 7:13 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">GauravK wrote:</div><div class="quotecontent">Also, there is a new annoying (and in my opinion) incorrect behavior introduced with Windows 8. The OS automatically logs in to any user account which does not have a password set. </div>Actually build 162 doesn't usually do that.  When using Microsoft's shell, and I click on another user, it gives the logon screen with that user pre-selected, even when there is no password.<br /><br />I put a simple password on my non-admin account and now I can switch user from it.  It does so, as always, by going to the initial date and time screen, but that is not a big deal.  <br /><br />Now I have to decide if I want to use ClassicShell with a password on my non-admin account or use Microsoft's shell without the password.  ClassicShell seems nice so I guess I'll have to get used to the simple password.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gaurav</b> [ Thu Jul 09, 2015 7:28 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />What about Win+L (or Lock command from Classic Shell) which Locks the PC? It also lists the user accounts now on the screen and doesn't seem to log on user accounts without a password automatically.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>steve17</b> [ Thu Jul 09, 2015 7:40 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">GauravK wrote:</div><div class="quotecontent">What about Win+L (or Lock command from Classic Shell) which Locks the PC? It also lists the user accounts now on the screen and doesn't seem to log on user accounts without a password automatically.</div>Yes, that works even with users with no password.  Again, it takes me to the initial date and time screen, but that is just another click.  Besides, it's a pretty picture.  <img src="images/smilies/icon_e_wink.gif" alt=";)" title="Wink" /><br /><br />That seems to be a winner.  Now I'm trying to figure out how to remove the simple password from my regular non-admin account.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gaurav</b> [ Thu Jul 09, 2015 8:00 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Good to know. It is so tiring to keep up with the changes and solutions to changing problems in Microsoft's OSes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>steve17</b> [ Thu Jul 09, 2015 2:50 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I posted the Alt-F4 thing on the insider forum.  I was then asked to report this to Microsoft using the feedback app, and I did that too.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Fritzle</b> [ Fri Jul 31, 2015 7:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Today I installed official release of Windows 10 along with Classic Shell version 4.2.3. I really do appreciate Classic Shell. On my PC I have one administrator user protected by password and several family users without password.<br /><br />Trying user switching using Classic Shell’s user switch button, I encountered exactly same problem described above:<br />Switching from user with password gets me to login screen. Trying to switch from user without password only causes my display flickering shortly while switching using keys Alt+F4 is working correctly.<br /><br />User switching by Classic Shell’s user switch button seems to shortly disconnect and immediately reconnect currently logged-in user skipping login screen, i.e. reason of flickering. Same behaviour at Windows restart, where a previously logged-in user without password is getting automatically logged in bypassing login screen.<br /><br />Remembering what I have read <a href="http://wind8apps.com/fix-windows-10-automatically-logs-last-user/" class="postlink">here</a>, I manually navigated to Windows registry key<br /><em>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Authentication\LogonUI\UserSwitch <br /></em>and set value of DWORD <em>Enabled </em>to 1 just before pressing Classic Shell’s user switch button. After pressing button I ended up at login screen as expected <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /> . As Windows is immediately resetting <em>Enabled </em>value back to 0, value has to be set to 1 each time before user switching.<br /><br />I wonder if it were not possible to modify Classic Shell’s behaviour to programmatically set this registry key value just before calling user interface procedure for user switching.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ivo</b> [ Fri Jul 31, 2015 8:08 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />No, this is not possible. The start menu can't change HKLM registry keys because it does not run as administrator.<br />I will look into this once Windows 10 stabilizes.<br />When you say that the non-admin account doesn't have a password, is it just that the password is blank, or have you set up automatic login?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>steve17</b> [ Fri Jul 31, 2015 8:38 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The problem is caused by a bug in Windows.  Apparently due to it's recently acquired propensity to automatically log in to an account with no password.<br /><br />The workaround is simple.  Instead of &quot;Switch users&quot;, use &quot;Lock&quot;.  It normally does the same thing, but in this case, it gets around the Windows bug.<br /><br />If you want to see the Windows bug without using ClassicShell, put the mouse cursor on the desktop.  Then hit Alt F4.  You will get the &quot;shutdown menu&quot; we have known and loved.  Then select &quot;Switch user&quot; and watch it fail.<br /><br />This has been reported to Microsoft by me, and  maybe by others.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ivo</b> [ Fri Jul 31, 2015 9:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The user Fritzle seems to imply that the Alt+F4 works for him in the final Windows 10 build. Are you still on the preview?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Fritzle</b> [ Sat Aug 01, 2015 3:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Starting from Windows 8.1 I forced upgrade via command<br />“<em>wuauclt.</em><em>exe /</em><em>updatenow” </em>on July 30 and I expect to be on final version now.<br /><br />Command &quot;<em>ver</em>&quot; gives output string &quot;<em>Microsoft Windows [Version 10.0.10240]</em>&quot;. <br /><br />As my Windows is a German one, I’m only able to attach screenshots in German language.<br /><br />Attachment <em>Image1.jpg:</em><br />- Output window of command &quot;winver&quot;<br />- Window displayed after pressing Alt+F4 keys - after pressing &quot;User switch&quot;, I am getting to login screen<br />Attachment <em>Image2.jpg:<br /></em>- modified value by non-administrative user of registry key item <em>Enabled</em> <br />- permissions of registry key <em>UserSwitch</em><br />- special/advanced permissions of a non-administrative authenticated user<br /><br />Registry permissions have not been altered after upgrade. <br />As you can see, registry key item <em>Enabled</em> may be modified by any authenticated user, whether administrative or not.<br /><br />When I say that my non-admin accounts don't have a password, I mean I did not type any character into password fields when creating these user accounts ...<br />... and I did not set up automatic login.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> Image2</span><br />
		
			<span class="genmed">
				<img src="styles/subsilver2/imageset/icon_topic_attach.gif" width="14" height="18" alt="" title="" /> 
				<a href="download/fileadec.jpg?id=2327">Image2.jpg</a> [249.1 KiB]
			</span><br />
			<span class="gensmall">Not downloaded yet</span>
		

		<br />
	</td>
				</tr>
			
				<tr>
					<td>
			<span class="gensmall"><b>File comment:</b> Image1</span><br />
		
			<img src="download/filea4ef.jpg?id=2326" alt="Image1.jpg" /><br />
			<span class="gensmall">Image1.jpg [ 162.18 KiB | Viewed 7719 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>steve17</b> [ Sun Aug 02, 2015 4:14 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" /><div class="quotetitle">Ivo wrote:</div><div class="quotecontent">The user Fritzle seems to imply that the Alt+F4 works for him in the final Windows 10 build. Are you still on the preview?</div>Yes, I'm using preview build 162.  <br /><br />I guess I should download the RTM and see what happens.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ivo</b> [ Sun Aug 02, 2015 9:05 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Switch user problem</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I have ran some tests and yes, the Alt+F4 is fixed for the RTM version.<br />The next version of Classic Shell will work as well.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 8 hours [ <abbr title="Daylight Saving Time">DST</abbr> ]</span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />https://www.phpbb.com/</span></td>
</tr>
</table>

</body>

<!-- Mirrored from www.classicshell.net/forum/viewtopic.php?f=19&t=4776&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 08 Jun 2018 04:52:34 GMT -->
</html>