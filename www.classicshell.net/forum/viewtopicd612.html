<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr" lang="en-gb">

<!-- Mirrored from www.classicshell.net/forum/viewtopic.php?f=12&t=5529&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 08 Jun 2018 09:32:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Language" content="en-gb">
<meta name="robots" content="noindex" />
<title>Classic Shell :: View topic - Classic Start Menu scales incorrectly on mixed DPI screens</title>

<style type="text/css">
<!--

body {
	font-family: Verdana,serif;
	font-size: 10pt;
}

img {
	border: 0;
}

td {
	font-family: Verdana,serif;
	font-size: 10pt;
	line-height: 150%;
}

.code, .codecontent, 
.quote, .quotecontent {
	margin: 0 5px 0 5px;
	padding: 5px;
	font-size: smaller;
	border: black solid 1px;
}

.quotetitle {
	color: black;
	display : block;
	font-weight: bold;
}

.forum {
	font-family: Arial,Helvetica,sans-serif;
	font-weight: bold;
	font-size: 18pt;
}

.topic {
	font-family: Arial,Helvetica,sans-serif;
	font-size: 14pt;
	font-weight: bold;
}

.gensmall {
	font-size: 8pt;
}

hr {
	color: #888;
	height: 3px;
	border-style: solid;
}

hr.sep {
	color: #aaa;
	height: 1px;
	border-style: dashed;
}
//-->
</style>

</head>
<body>

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td colspan="2" align="center"><span class="Forum">Classic Shell</span><br /><span class="gensmall"><a href="index.html">http://www.classicshell.net/forum/</a></span></td>
</tr>
<tr>
	<td colspan="2"><br /></td>
</tr>
<tr>
	<td><span class="topic">Classic Start Menu scales incorrectly on mixed DPI screens</span><br /><span class="gensmall"><a href="viewtopiced70-2.html?f=12&amp;t=5529">http://www.classicshell.net/forum/viewtopic.php?f=12&amp;t=5529</a></span></td>
	<td align="right" valign="bottom"><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
</tr>
</table>



	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>davestewart</b> [ Tue Dec 29, 2015 2:52 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Classic Start Menu scales incorrectly on mixed DPI screens</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I've recently made the move to a high-DPI laptop with a secondary external screen, but unfortunately, Classic Shell exhibits scaling issues when displayed on the secondary monitor.<br /><br />It seems to somehow be taking the primary (high-DPI) settings and looks hugely enlarged.<br /><br />I haven't tried swapping the monitors in Display Settings to see if this has any effect, but I assume that this setup hasn't been considered when developing.<br /><br />I've also set Classic Shell to use &quot;Disable display scaling&quot; in its Application Properties, which brings some of its own issues (the layout in CS Settings is misdrawn to varying degrees in most panels) though seems to solve others.<br /><br />Would be great to at least get confirmation on this, and hopefully a fix at some point.<br /><br />Thanks,<br />Dave

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<img src="download/file3a2a.png?id=2989" alt="classic shell hidpi.png" /><br />
			<span class="gensmall">classic shell hidpi.png [ 98.88 KiB | Viewed 4986 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gaurav</b> [ Tue Dec 29, 2015 5:20 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Are you using the latest version, Classic Shell 4.2.5 released in November? It has new support for per-monitor DPI scaling. The text and menu elements are scaled independently for each monitor. The icon size depends on the global system DPI. Try it without any compatibility settings like disabling scaling in its Properties.<br /><br />Also, on the Menu Look tab, locate the setting &quot;Override system DPI&quot;, right click it and click &quot;Set default&quot; so its value becomes 0. Then restart the menu and see if it scales correctly on the two separate displays.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>davestewart</b> [ Tue Dec 29, 2015 5:41 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi Gaurav,<br /><br />That's helped, certainly, thanks.<br /><br />As you say, the icons on the second display aren't respecting the scale of the monitor, but seem to be taking their lead from the global setting. Can this be fixed?<br /><br />Also, the tooltip text is also much bigger; screenshot attached.

		
			<br clear="all" /><br />

			<table class="tablebg" width="100%" cellspacing="1">
			<tr>
				<td><b class="genmed">Attachments: </b></td>
			</tr>
			
				<tr>
					<td>
			<img src="download/filebb10.png?id=2990" alt="classic shell hidpi 2.png" /><br />
			<span class="gensmall">classic shell hidpi 2.png [ 458.57 KiB | Viewed 4974 times ]</span>
		

		<br />
	</td>
				</tr>
			
			</table>
		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>davestewart</b> [ Tue Dec 29, 2015 5:47 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree&nbsp;&nbsp;<img src="styles/subsilver2/imageset/icon_topic_solved_post.png" width="12" height="12" alt="Topic is solved" title="Topic is solved" /></b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hmm... seems like the tooltip is a Windows thing, as it happens even outside of CS.<br /><br />It's so frustrating! MS really have seemed to have dropped the ball with high DPI displays <img src="images/smilies/icon_e_sad.gif" alt=":(" title="Sad" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>davestewart</b> [ Tue Dec 29, 2015 7:24 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So having looked at this some more, I'm still getting discrepancies.<br /><br />Setting icon sizes to suit one monitor won't suit the other. <br /><br />Either the icons are too small on the high-DPI monitor, or freakishly large on the normal-DPI monitor.<br /><br />Is there no way to solve this?

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ivo</b> [ Tue Dec 29, 2015 9:49 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Loading the icons is one of the more expensive parts of loading the start menu. Loading them in many different sizes will slow down the operation. That's why the per-monitor DPI is ignored for determining the icon sizes.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>davestewart</b> [ Tue Dec 29, 2015 9:59 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I have to say, in this case I would prefer consistency over performance.<br /><br />If there was a way this could be offered in a future update, I would be all for it <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" />

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ivo</b> [ Tue Dec 29, 2015 10:23 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />That's unlikely to happen. Having only two icon sizes - small and large - is pretty fundamental to the architecture of the start menu.<br />You can however tweak the sizes in the Main Menu tab and try to pick a value that works well on both of your monitors.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>davestewart</b> [ Wed Dec 30, 2015 11:31 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Hi Ivo,<br /><br />Thanks for the reply.<br /><br />Currently, that is what I've done; to find a setting that kinda works for both.<br /><br />I get the large and small icons thing (having made a bunch for my Windows 10 theme if you remember) I guess I just don't understand enough about Windows development, or its DPI scaling issues to understand why it might be prohibitively difficult to scale each Start Menu instance's icons separately, relative to the text size.<br /><br />Even on my secondary normal-dpi monitor, running alongside the laptop's primary high-dpi display, the icons look fuzzy compared to my separate, all normal-dpi system.<br /><br />I don't expect this post to change your mind, but I would be interested in knowing a bit more about it if you have time.<br /><br />Also, second question: would adding higher-res icons to the .ico files be a partial solution? Would these be loaded in and scaled in place of the smaller ones?<br /><br />Cheers,<br />Dave

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Ivo</b> [ Wed Dec 30, 2015 11:45 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />The start menu does not try to scale icons as it displays them. It will only scale them on loading, if the exact size is not available. That scaling may produce fuzzy icons. Once loaded, the size doesn't change.<br />The images are cached in memory and on disk, but only at their requested sizes. That's why changing the size can destroy the performance.<br /><br />Providing higher-res icons may or may not improve the quality. For example if you need 40x40, and you have 48x48, you will get some fuzziness. Adding a 256x256 will not make things better because the menu will still pick 48x48 as the closest size.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gaurav</b> [ Thu Dec 31, 2015 3:09 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />So if having only two icon sizes is fundamental to optimum performance, can it have a setting in a future version where if multiple displays with different DPIs are present, then the Start Menu uses *only* the small icon size for the normal DPI display (for main menu as well as submenu), and for the high DPI display, it uses *only* the large icon size (again for both main menu and submenu)?<br /><br />So essentially it's letting the user choose between different icon sizes per monitor vs the current design - different icon sizes per main menu and submenu? Of course, this edge case behavior would only be activated if multiple displays with a considerable difference in DPIs are present. Or it can be a user-controllable setting &quot;Use the same icon size for main menu and submenus but larger icon size on high DPI displays&quot;.

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>davestewart</b> [ Mon Jan 11, 2016 8:53 am ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />I agree that loading in the optimum icons for each display is the best option. Performance is secondary to me - an i7 should be able to draw a few extra icons! And then they should be cached.<br /><br />As it happens though, I've found Windows 10's handling of different density DPI displays to be so appalling across a range of apps, compounded when using mixed DPI screens, that I've decided to disable my high-res laptop display (it's a MacBook Pro) and ONLY power my two external monitors, when both plugged in.<br /><br />This gives me a 1920 x 1080 x 2 x normal DPI, as opposed to that PLUS 3600 x 2000 - but broken-looking applications.<br /><br />I can't tell you how disappointed I am with Microsoft on this one - though it's not totally fair to say this is their fault; developers should have grasped this nettle by now and upgraded their apps as SOME work flawlessly (though many of MS's own do NOT, Excel and Word being two).<br /><br />This has been the final nail in the coffin for me and my &quot;1 laptop / Win &amp; OSX&quot; dream... and strangely, the winner is OSX. Using a MBP under Windows has proved to be much more of a compromise than Apple would have you believe, and it's just going to be easier and cleaner to suffer some of the drawbacks of the Apple OS to get a much better overall experience (on this setup, at least). I'll only use Windows now if I'm doing Flash or Office development - all other web development I think is going to be Mac only.<br /><br />A bit of background for you there anyway <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />Cheers,<br />Dave

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>ej5chfn6</b> [ Fri Sep 23, 2016 5:11 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />Was there any progress on this front? I have two screen one at 100% and the other one at 200%. When I'm on the 200% the ClassShell menu is tiny. Overriding the DPI in the settings is not really an option as on the 100% display it is too large. Ideally, ClassicShell should take into account the DPI of the current display and perform properly. If it means having to do operations twice, I think most users will be happy without much performance degradation. Of course, this only applies to setup where the DPI is different between the displays.<br /><br />Thanks,<br />Manu

		

		</td>
	</tr>
	</table>


	<hr width="85%" />

	<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
	<tr>
		<td width="10%" nowrap="nowrap">Author:&nbsp;</td>
		<td><b>Gaurav</b> [ Fri Sep 23, 2016 11:56 pm ]</td>
	</tr>
	<tr>
		<td width="10%" nowrap="nowrap">Post subject:&nbsp;</td>
		<td><b>Re: Classic Start Menu scales incorrectly on mixed DPI scree</b></td>
	</tr>
	<tr>
		<td colspan="2"><hr class="sep" />@ej5chfn6, per-monitor DPI scaling should work under the following conditions:<br /><br />- Make sure &quot;Let me choose one scaling level for all my displays&quot; is turned off (Windows 8.1). On Windows 10, it is not required, per-monitor display scaling is always on unless you set a custom DPI for all monitors from the DPI Scaling Control Panel.<br />- In Classic Start Menu Settings, on the Menu Look tab, locate the setting &quot;Override system DPI&quot;, right click it and click &quot;Set default&quot;.<br />- Make sure you are using Classic Shell 4.2.5 or later. It has new support for per-monitor DPI scaling. But only the text and menu elements are scaled independently for each monitor. The icon size depends on the global system DPI.<br /><br />Even in Windows 10 Anniversary Update, Windows or rather GDI has limitations with per-display scaling. Desktop icons for example, do not scale on a per-display basis when you are in &quot;extend&quot; display mode with different scale factors. The icons will remain incorrectly sized on some displays. Microsoft needs to fix it for Explorer.

		

		</td>
	</tr>
	</table>


<hr width="85%" />

<table width="85%" cellspacing="3" cellpadding="0" border="0" align="center">
<tr>
	<td><span class="gensmall">Page <strong>1</strong> of <strong>1</strong></span></td>
	<td align="right"><span class="gensmall">All times are UTC - 8 hours [ <abbr title="Daylight Saving Time">DST</abbr> ]</span></td>
</tr>
<tr>
	<td colspan="2" align="center"><span class="gensmall">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />https://www.phpbb.com/</span></td>
</tr>
</table>

</body>

<!-- Mirrored from www.classicshell.net/forum/viewtopic.php?f=12&t=5529&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 08 Jun 2018 09:32:28 GMT -->
</html>